<%inherit file="main.html" />
<%namespace name='static' file='static_content.html'/>

<%!
  from django.utils.translation import ugettext as _
  from django.core.urlresolvers import reverse
  from microsite_configuration import microsite
  from courseware.courses import course_image_url, get_course_about_section
%>

<%
  homepage_overlay_html = microsite.get_value('homepage_overlay_html')

  #show_homepage_promo_video = microsite.get_value('show_homepage_promo_video', True)
  #homepage_promo_video_youtube_id = microsite.get_value('homepage_promo_video_youtube_id', "jkIOi5bCMSo")
  show_homepage_promo_video = True
  homepage_promo_video_youtube_id = "nLzOtJWWrrw"

  show_partners = microsite.get_value('show_partners', True)
%>


% if show_homepage_promo_video:

<!-- Video modal -->
<div class="modal fade modal__video-regular__wrapper" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal__video-regular">
    <div class="modal__video-regular__container container-bs" id="modalYoutube">
      <style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style><div class='embed-container'><iframe src='https://www.youtube.com/embed/${homepage_promo_video_youtube_id}?rel=0&showinfo=0' frameborder='0' allowfullscreen></iframe></div>
    </div>
    <div class="modal__video-regular__close">
      <a href="#" data-dismiss="modal" aria-label="Close"><i class="fa fa-remove"></i></a>
    </div>
  </div>
</div>

% endif


<!-- LMS landing page hero portion -->
  <section class="landing-hero">
    <div class="container-bs">
      <div class="landing-hero__content">
        <div class="landing-hero__content__text">
          <h1>Cloudera OnDemand</h1>
          <p>Bringing Cloudera-related classes directly to you.</p>
          % if show_homepage_promo_video:

            <a href="#" data-toggle="modal" data-target="#videoModal" class="landing-hero__content__button">Training intro video</a>

          % endif
        </div>
      </div>
    </div>
  </section>

  <section class="landing-additional-text">
    <div class="container-bs">
      <div class="row landing-additional-text__content landing-graphic-additional--container">
        <div class="col-xs-12 col-sm-7 col-md-7 landing-graphic-additional--text">
          <h2>Training to meet your needs</h2>
          <p>
            Cloudera OnDemand provides a video training option where you can learn from senior instructors—who deliver our most popular courses in a virtual classroom setting—without incurring travel costs or time away from the office.
          </p>
          <p>
            Cloudera OnDemand training is designed to facilitate individual, or enterprise-wide, training to help accelerate the ROI of Cloudera deployments. Get access to all of Cloudera’s training courses in a single package, or choose the course(s) specific to you needs.
          </p>
          <a class="landing-additional-text__button" href="/login">Sign in</a>
        </div>
        <div class="col-xs-12 col-sm-5 col-md-5">
          <img src="${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/images/cloudera-gfx-2.png')}" class="landing-graphic-additional">
        </div>
      </div>
    </div>
  </section>



% if settings.FEATURES.get('COURSES_ARE_BROWSABLE'):
  <section class="landing-courses">
    <div class="container-bs">
      <h2>Featured / newest courses</h2>
      <p>
        Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.
      </p>
    </div>



    <div class="landing-courses__container">
      <div class="container-bs">
        <div class="row">
          <% i = 0; %>
          %for course in courses[:3]:
            %if i == 0:
              <div class="col-xs-12 col-sm-8 col-lg-6 course-tile__container">
                <a href="${reverse('about_course', args=[course.id.to_deprecated_string()])}" class="course-tile big-tile">
                  <div class="big-tile-content">
                    <span class="course-tile__date">${course.start_datetime_text()}</span>
                    <h3 class="course-tile__name">${get_course_about_section(course, 'title')}</h3>
                    <span href="${reverse('about_course', args=[course.id.to_deprecated_string()])}" class="course-tile__more">View more</span>
                  </div>
                  <div class="course-tile__image" style="background-image: url('${course_image_url(course)}');"></div>
                </a>
              </div>
            %else:
              <div class="col-xs-12 col-sm-4 col-lg-3 course-tile__container">
                <a href="${reverse('about_course', args=[course.id.to_deprecated_string()])}" class="course-tile">
                  <div class="course-tile-content">
                    <div class="course-tile__image" style="background-image: url('${course_image_url(course)}');"></div>
                    <span class="course-tile__date">${course.start_datetime_text()}</span>
                    <h3 class="course-tile__name">${get_course_about_section(course, 'title')}</h3>
                    <span href="${reverse('about_course', args=[course.id.to_deprecated_string()])}" class="course-tile__more">View more</span>
                  </div>
                </a>
              </div>
            %endif
            <% i=i+1 %>
          %endfor
        </div>
      </div>
    </div>
  </section>
% endif

  <section class="landing-additional-text centered">
    <div class="container-bs">
      <div class="landing-additional-text__content">
        <h2>About Cloudera</h2>
        <p>No one knows Apache Hadoop like Cloudera!</p>
        <p>We provide the world’s fastest, easiest, and most secure data platform built on Hadoop. We help solve your most demanding business challenges with data.</p>
      </div>
    </div>
  </section>


<%block name="js_extra">
   <script type="text/javascript">
      $(window).load(function() {
         if(getParameterByName('next')) {
              $('#login').trigger("click");
         }
      })
   </script>
   <script type="text/javascript">
    $('#videoModal').on('hidden.bs.modal', function () {
        $("#modalYoutube iframe").attr("src", $("#modalYoutube iframe").attr("src"));
    });
    </script>
</%block>

% if show_signup_immediately is not UNDEFINED:
  ## NOTE: This won't work in production, because anonymous views are cached, so it will
  ## show either with or without this extra js for 3 minutes at a time.
<script type="text/javascript">
  $(window).load(function() {$('#signup_action').trigger("click");});
</script>
% endif

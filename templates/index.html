<%inherit file="main.html" />
<%namespace name='static' file='static_content.html'/>

<%!
  from django.utils.translation import ugettext as _
  from django.core.urlresolvers import reverse
  from microsite_configuration import microsite
  from courseware.courses import course_image_url, get_course_about_section
%>

<%
  homepage_overlay_html = microsite.get_value('homepage_overlay_html')

  #show_homepage_promo_video = microsite.get_value('show_homepage_promo_video', True)
  #homepage_promo_video_youtube_id = microsite.get_value('homepage_promo_video_youtube_id', "jkIOi5bCMSo")
  show_homepage_promo_video = True
  homepage_promo_video_youtube_id = "gFnnNWC55Iw"

  show_partners = microsite.get_value('show_partners', True)
%>


% if show_homepage_promo_video:

<!-- Video modal -->
<div class="modal fade modal__video-regular__wrapper" id="videoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal__video-regular">
    <div class="modal__video-regular__container container-bs" id="modalYoutube">
      <style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style><div class='embed-container'><iframe src='http://www.youtube.com/embed/${homepage_promo_video_youtube_id}?rel=0&showinfo=0' frameborder='0' allowfullscreen></iframe></div>
    </div>
    <div class="modal__video-regular__close">
      <a href="#" data-dismiss="modal" aria-label="Close"><i class="fa fa-remove"></i></a>
    </div>
  </div>
</div>

% endif


<!-- LMS landing page hero portion -->
  <section class="landing-hero">
    <div class="landing-hero__video" id="landing-hero-video"></div>
    <div class="landing-hero__video-overlay"></div>
    <div class="container-bs">
      <div class="landing-hero__content">
        <div class="landing-hero__content__text">
          <h1>This is an important piece of copy</h1>
          <p>Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima.</p>
        </div>

        % if show_homepage_promo_video:

          <a href="#" data-toggle="modal" data-target="#videoModal" class="landing-hero__content__button">View a sample video</a>

        % endif
      </div>
    </div>
  </section>

  <section class="landing-additional-text">
    <div class="container-bs">
      <div class="landing-additional-text__content">
        <h2>Section title goes here</h2>
          <div class="landing-additional-text__separator"></div>
          <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.</p>
          <p>Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima.</p>
      </div>
    </div>
  </section>


% if settings.FEATURES.get('COURSES_ARE_BROWSABLE'):
  <section class="landing-courses">
    <div class="container-bs">
      <h2>Featured / newest courses</h2>
    </div>

    <div class="landing-courses__container">
      <div class="container-bs">
        <div class="row">
          <div class="landing-courses__logo"><img src="${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/images/icon-black.svg')}"></div>
        </div>
        <div class="row">
          %for course in courses[:settings.HOMEPAGE_COURSE_MAX]:
            <div class="col-xs-12 col-sm-6 col-md-4 course-tile">
              <div class="course-tile__body">
                <div class="course-tile__image" style="background-image: url('${course_image_url(course)}'); background-size: cover; background-position: center center;"></div>
                <div class="course-tile__info">
                  <span class="course-tile__date">${course.start_datetime_text()}</span>
                  <span class="course-tile__name"><a href="${reverse('about_course', args=[course.id.to_deprecated_string()])}">${get_course_about_section(course, 'title')}</a></span>
                  <span class="course-tile__instructor">${get_course_about_section(course, 'university')}</span>
                  <div class="course-tile__separator"></div>
                  <p class="course-tile__description">${get_course_about_section(course, 'short_description')}</p>
                  <a class="course-tile__cta" href="${reverse('about_course', args=[course.id.to_deprecated_string()])}">Learn more...</a>
                </div>
              </div>
            </div>
          %endfor
        </div>
      </div>
    </div>
  </section>
% endif

  <section class="landing-additional-text">
    <div class="container-bs">
      <div class="landing-additional-text__content">
        <h2>Typi non habent claritatem insitam</h2>
        <div class="landing-additional-text__separator"></div>
        <p>Claritas est etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum. Mirum est notare quam littera gothica, quam nunc putamus parum claram, anteposuerit litterarum formas humanitatis per seacula quarta decima et quinta decima. Eodem modo typi, qui nunc nobis videntur parum clari, fiant sollemnes in futurum.</p>
        <p>If you'd like to learn more, click the following button.</p>
        <!--HubSpot Call-to-Action Code -->
        <a class="landing-additional-text__button" href="#">I'm a CTA!</a>
      </div>
    </div>
  </section>

  <section class="instructors-marketing container-bs">
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-7 col-lg-8">
        <div class="instructors-marketing__text">
          <h2 class="instructors-marketing__text__title">
            Lorem ipsum dolor sit amet
          </h2>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.</p>
        </div>
        <div class="instructors-marketing__list">
          <div class="instructors-marketing__list__single">
            <img class="instructors-marketing__list__single__image" src="${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/images/instructor-images/edwin.jpg')}" alt="Lorem Ipsum">
            <h4 class="instructors-marketing__list__single__name">Lorem Ipsum</h4>
            <span class="instructors-marketing__list__single__title">Position Ipsum</span>
          </div>
          <div class="instructors-marketing__list__single">
            <img class="instructors-marketing__list__single__image" src="${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/images/instructor-images/francis.jpg')}" alt="Lorem Ipsum">
            <h4 class="instructors-marketing__list__single__name">Lorem Ipsum</h4>
            <span class="instructors-marketing__list__single__title">Position Ipsum</span>
          </div>
          <div class="instructors-marketing__list__single">
            <img class="instructors-marketing__list__single__image" src="${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/images/instructor-images/lynn.jpg')}" alt="Lorem Ipsum">
            <h4 class="instructors-marketing__list__single__name">Lorem Ipsum</h4>
            <span class="instructors-marketing__list__single__title">Position Ipsum</span>
          </div>
          <div class="instructors-marketing__list__single">
            <img class="instructors-marketing__list__single__image" src="${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/images/instructor-images/misty.jpg')}" alt="Lorem Ipsum">
            <h4 class="instructors-marketing__list__single__name">Lorem Ipsum</h4>
            <span class="instructors-marketing__list__single__title">Position Ipsum</span>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-5 col-lg-4 instructors-marketing__cta">
        <div class="instructors-marketing__cta__content">
          <h3 class="instructors-marketing__cta__title">Join in on open education!</h3>
          <p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.</p>
          <a class="instructors-marketing__cta__button" href="/register">Sign up!</a>
        </div>
      </div>
    </div>
  </section>


<%block name="js_extra">
   <script type="text/javascript">
      $(window).load(function() {
         if(getParameterByName('next')) {
              $('#login').trigger("click");
         }
      })
   </script>
   <script src="${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/js/jquery.videoBG.js')}"></script>
   <script>
     $(document).ready(function() {
       $('#landing-hero-video').videoBG({
         mp4:'${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/video/dhis2-bg-video-poster.mp4')}',
         ogv:'${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/video/dhis2-bg-video.ogv')}',
         webm:'${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/video/dhis2-bg-video.webm')}',
         poster:'${static.url('themes/' + settings.FEATURES.get('THEME_FOLDER') + '/video/dhis2-bg-video-poster.jpg')}',
         scale:true,
         zIndex:0,
         loop:true
       });
     });
   </script>
</%block>

% if show_signup_immediately is not UNDEFINED:
  ## NOTE: This won't work in production, because anonymous views are cached, so it will
  ## show either with or without this extra js for 3 minutes at a time.
<script type="text/javascript">
  $(window).load(function() {$('#signup_action').trigger("click");});
</script>
% endif

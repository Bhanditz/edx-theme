<%page args="course" />
<%
  course = course
%>
<%namespace file='../translator-templates/_single-course.html' import="get_course_info" />

<%
  course_info = get_course_info(course)
  course_image = course_info['course_image']

  course_description = course_info['course_short_description'] if course_info['course_short_description'] else ""
  course_description = (course_description[:99] + '..') if len(course_description) > 99 else course_description

  title_class = "underlined" if len(course_description) else ""
%>

<article id="course_info['id']" class="nxp--course-tile__wrapper" aria-label="${course_info['course_title']}">
  <a href="${course_info['course_url']}" class="nxp--course-tile__container">
    <div class="nxp--course-tile__image" style="background-image: url('${course_image}');">
    </div>
    <div class="nxp--course-tile__info">
      <div class="nxp--course-tile__title-container ${title_class}">
        <p class="nxp--course-tile__code">${course_info['course_code']}</p>
        <p class="nxp--course-tile__title">${course_info['course_title']}</p>
      </div>
      <p class="nxp--course-tile__description">${course_description}</p>
      <div>
        <p class="nxp--course-tile__organization">${course_info['course_organization']}</p>
        <p class="nxp--course-tile__start-date">${course_info['course_start_date']}</p>
      </div>
    </div>
  </a>
</article>
